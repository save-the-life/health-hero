{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dhwan/Desktop/work/health-hero/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  throw new Error('Missing Supabase environment variables. Please check your .env.local file.')\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\r\n  auth: {\r\n    autoRefreshToken: true,\r\n    persistSession: true,\r\n    detectSessionInUrl: false\r\n  }\r\n})\r\n\r\n"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,+OAAY,EAAC,aAAa,iBAAiB;IACjE,MAAM;QACJ,kBAAkB;QAClB,gBAAgB;QAChB,oBAAoB;IACtB;AACF","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dhwan/Desktop/work/health-hero/src/store/authStore.ts"],"sourcesContent":["import { create } from 'zustand'\r\nimport { persist } from 'zustand/middleware'\r\nimport { UserProfile } from '@/types/database'\r\nimport { supabase } from '@/lib/supabase'\r\n\r\ninterface AuthState {\r\n  user: UserProfile | null\r\n  isAuthenticated: boolean\r\n  isLoading: boolean\r\n  error: string | null\r\n  \r\n  // Actions\r\n  setUser: (user: UserProfile | null) => void\r\n  setLoading: (isLoading: boolean) => void\r\n  setError: (error: string | null) => void\r\n  logout: () => Promise<void>\r\n  initialize: () => Promise<void>\r\n  updateProfile: (updates: Partial<UserProfile>) => void\r\n}\r\n\r\nexport const useAuthStore = create<AuthState>()(\r\n  persist(\r\n    (set, get) => ({\r\n      user: null,\r\n      isAuthenticated: false,\r\n      isLoading: false,\r\n      error: null,\r\n\r\n      setUser: (user) => set({ \r\n        user, \r\n        isAuthenticated: !!user,\r\n        error: null \r\n      }),\r\n\r\n      setLoading: (isLoading) => set({ isLoading }),\r\n\r\n      setError: (error) => set({ error }),\r\n\r\n      logout: async () => {\r\n        try {\r\n          // Supabase 로그아웃\r\n          await supabase.auth.signOut()\r\n          \r\n          // 상태 초기화\r\n          set({\r\n            user: null,\r\n            isAuthenticated: false,\r\n            error: null\r\n          })\r\n        } catch (error) {\r\n          console.error('로그아웃 실패:', error)\r\n          set({ error: '로그아웃에 실패했습니다.' })\r\n        }\r\n      },\r\n\r\n      initialize: async () => {\r\n        set({ isLoading: true })\r\n        \r\n        try {\r\n          // Supabase 세션 확인\r\n          const { data: { session } } = await supabase.auth.getSession()\r\n          \r\n          if (session?.user) {\r\n            // 사용자 프로필 가져오기\r\n            const { data: profile, error } = await supabase\r\n              .from('user_profiles')\r\n              .select('*')\r\n              .eq('id', session.user.id)\r\n              .single()\r\n\r\n            if (error) {\r\n              console.error('프로필 로드 실패:', error)\r\n              set({ isAuthenticated: false, user: null })\r\n            } else {\r\n              set({ user: profile, isAuthenticated: true })\r\n            }\r\n          } else {\r\n            set({ isAuthenticated: false, user: null })\r\n          }\r\n        } catch (error) {\r\n          console.error('인증 상태 초기화 실패:', error)\r\n          set({ isAuthenticated: false, user: null })\r\n        } finally {\r\n          set({ isLoading: false })\r\n        }\r\n      },\r\n\r\n      updateProfile: (updates) => {\r\n        const currentUser = get().user\r\n        if (currentUser) {\r\n          set({\r\n            user: {\r\n              ...currentUser,\r\n              ...updates\r\n            }\r\n          })\r\n        }\r\n      }\r\n    }),\r\n    {\r\n      name: 'auth-storage',\r\n      partialize: (state) => ({\r\n        user: state.user,\r\n        isAuthenticated: state.isAuthenticated\r\n      })\r\n    }\r\n  )\r\n)\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAEA;;;;AAiBO,MAAM,eAAe,IAAA,0LAAM,IAChC,IAAA,gMAAO,EACL,CAAC,KAAK,MAAQ,CAAC;QACb,MAAM;QACN,iBAAiB;QACjB,WAAW;QACX,OAAO;QAEP,SAAS,CAAC,OAAS,IAAI;gBACrB;gBACA,iBAAiB,CAAC,CAAC;gBACnB,OAAO;YACT;QAEA,YAAY,CAAC,YAAc,IAAI;gBAAE;YAAU;QAE3C,UAAU,CAAC,QAAU,IAAI;gBAAE;YAAM;QAEjC,QAAQ;YACN,IAAI;gBACF,gBAAgB;gBAChB,MAAM,0KAAQ,CAAC,IAAI,CAAC,OAAO;gBAE3B,SAAS;gBACT,IAAI;oBACF,MAAM;oBACN,iBAAiB;oBACjB,OAAO;gBACT;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,YAAY;gBAC1B,IAAI;oBAAE,OAAO;gBAAgB;YAC/B;QACF;QAEA,YAAY;YACV,IAAI;gBAAE,WAAW;YAAK;YAEtB,IAAI;gBACF,iBAAiB;gBACjB,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,0KAAQ,CAAC,IAAI,CAAC,UAAU;gBAE5D,IAAI,oBAAA,8BAAA,QAAS,IAAI,EAAE;oBACjB,eAAe;oBACf,MAAM,EAAE,MAAM,OAAO,EAAE,KAAK,EAAE,GAAG,MAAM,0KAAQ,CAC5C,IAAI,CAAC,iBACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,QAAQ,IAAI,CAAC,EAAE,EACxB,MAAM;oBAET,IAAI,OAAO;wBACT,QAAQ,KAAK,CAAC,cAAc;wBAC5B,IAAI;4BAAE,iBAAiB;4BAAO,MAAM;wBAAK;oBAC3C,OAAO;wBACL,IAAI;4BAAE,MAAM;4BAAS,iBAAiB;wBAAK;oBAC7C;gBACF,OAAO;oBACL,IAAI;wBAAE,iBAAiB;wBAAO,MAAM;oBAAK;gBAC3C;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,iBAAiB;gBAC/B,IAAI;oBAAE,iBAAiB;oBAAO,MAAM;gBAAK;YAC3C,SAAU;gBACR,IAAI;oBAAE,WAAW;gBAAM;YACzB;QACF;QAEA,eAAe,CAAC;YACd,MAAM,cAAc,MAAM,IAAI;YAC9B,IAAI,aAAa;gBACf,IAAI;oBACF,MAAM;wBACJ,GAAG,WAAW;wBACd,GAAG,OAAO;oBACZ;gBACF;YACF;QACF;IACF,CAAC,GACD;IACE,MAAM;IACN,YAAY,CAAC,QAAU,CAAC;YACtB,MAAM,MAAM,IAAI;YAChB,iBAAiB,MAAM,eAAe;QACxC,CAAC;AACH","debugId":null}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dhwan/Desktop/work/health-hero/src/store/gameStore.ts"],"sourcesContent":["import { create } from 'zustand'\r\nimport { persist } from 'zustand/middleware'\r\nimport { supabase } from '@/lib/supabase'\r\n\r\ninterface UserHearts {\r\n  current_hearts: number\r\n  last_refill_at: string\r\n  ad_views_today: number\r\n  ad_reset_at: string\r\n}\r\n\r\ninterface GameState {\r\n  // 사용자 데이터\r\n  level: number\r\n  totalScore: number\r\n  currentExp: number\r\n  currentPhase: number\r\n  currentStage: number\r\n  hearts: UserHearts | null\r\n  \r\n  // 하트 타이머\r\n  heartTimer: string\r\n  \r\n  // 로딩 상태\r\n  isLoading: boolean\r\n  error: string | null\r\n  \r\n  // Actions\r\n  loadUserData: (userId: string) => Promise<void>\r\n  updateHearts: () => Promise<void>\r\n  consumeHeart: (amount?: number) => Promise<boolean>\r\n  addHeartByAd: () => Promise<boolean>\r\n  buyHeartWithPoints: () => Promise<boolean>\r\n  updateScore: (score: number) => void\r\n  updateExp: (exp: number) => void\r\n  updateLevel: (level: number) => void\r\n  setError: (error: string | null) => void\r\n}\r\n\r\nexport const useGameStore = create<GameState>()(\r\n  persist(\r\n    (set, get) => ({\r\n      // 초기 상태\r\n      level: 1,\r\n      totalScore: 0,\r\n      currentExp: 0,\r\n      currentPhase: 1,\r\n      currentStage: 1,\r\n      hearts: null,\r\n      heartTimer: '5분00초',\r\n      isLoading: false,\r\n      error: null,\r\n\r\n      // 사용자 데이터 로드\r\n      loadUserData: async (userId: string) => {\r\n        set({ isLoading: true, error: null })\r\n        \r\n        try {\r\n          // 사용자 프로필과 하트 데이터를 함께 조회\r\n          const [profileResult, heartsResult] = await Promise.all([\r\n            supabase\r\n              .from('user_profiles')\r\n              .select('level, total_score, current_exp, current_phase, current_stage')\r\n              .eq('id', userId)\r\n              .single(),\r\n            \r\n            supabase\r\n              .from('user_hearts')\r\n              .select('*')\r\n              .eq('user_id', userId)\r\n              .single()\r\n          ])\r\n\r\n          if (profileResult.error) {\r\n            console.warn('프로필 로드 실패, 기본값 사용:', profileResult.error.message)\r\n            // 프로필이 없으면 기본값 사용 (최초 회원가입 시 500포인트 지급)\r\n            const defaultProfile = {\r\n              level: 1,\r\n              total_score: 500,\r\n              current_exp: 0,\r\n              current_phase: 1,\r\n              current_stage: 1\r\n            }\r\n            \r\n            set({\r\n              level: defaultProfile.level,\r\n              totalScore: defaultProfile.total_score,\r\n              currentExp: defaultProfile.current_exp,\r\n              currentPhase: defaultProfile.current_phase,\r\n              currentStage: defaultProfile.current_stage,\r\n              isLoading: false\r\n            })\r\n            return\r\n          }\r\n\r\n          if (heartsResult.error) {\r\n            console.warn('하트 데이터 로드 실패, 기본값 사용:', heartsResult.error.message)\r\n            // 하트 데이터가 없으면 기본값 사용\r\n            const defaultHearts = {\r\n              current_hearts: 5,\r\n              last_refill_at: new Date().toISOString(),\r\n              ad_views_today: 0,\r\n              ad_reset_at: new Date().toISOString()\r\n            }\r\n            \r\n            const heartTimer = get().calculateHeartTimer(defaultHearts.last_refill_at, defaultHearts.current_hearts)\r\n            \r\n            set({\r\n              hearts: defaultHearts,\r\n              heartTimer,\r\n              isLoading: false\r\n            })\r\n            return\r\n          }\r\n\r\n          const profile = profileResult.data\r\n          const hearts = heartsResult.data\r\n\r\n          // 하트 타이머 계산\r\n          const heartTimer = get().calculateHeartTimer(hearts.last_refill_at, hearts.current_hearts)\r\n\r\n          set({\r\n            level: profile.level || 1,\r\n            totalScore: profile.total_score || 0,\r\n            currentExp: profile.current_exp || 0,\r\n            currentPhase: profile.current_phase || 1,\r\n            currentStage: profile.current_stage || 1,\r\n            hearts: hearts,\r\n            heartTimer,\r\n            isLoading: false\r\n          })\r\n\r\n        } catch (error) {\r\n          console.error('사용자 데이터 로드 실패:', error)\r\n          set({ \r\n            error: error instanceof Error ? error.message : '데이터 로드 실패',\r\n            isLoading: false \r\n          })\r\n        }\r\n      },\r\n\r\n      // 하트 업데이트\r\n      updateHearts: async () => {\r\n        const hearts = get().hearts\r\n        if (!hearts) return\r\n\r\n        // 하트가 이미 5개면 충전할 필요 없음\r\n        if (hearts.current_hearts >= 5) {\r\n          const heartTimer = get().calculateHeartTimer(hearts.last_refill_at, hearts.current_hearts)\r\n          set({ heartTimer })\r\n          return\r\n        }\r\n\r\n        try {\r\n          const { data, error } = await supabase\r\n            .rpc('refill_heart', { p_user_id: hearts.user_id })\r\n\r\n          if (error) {\r\n            console.error('하트 업데이트 실패:', error)\r\n            return\r\n          }\r\n\r\n          if (data && data.length > 0) {\r\n            const result = data[0]\r\n            const heartTimer = get().calculateHeartTimer(result.last_refill_at, result.current_hearts)\r\n            \r\n            set({\r\n              hearts: {\r\n                ...hearts,\r\n                current_hearts: result.current_hearts,\r\n                last_refill_at: result.last_refill_at\r\n              },\r\n              heartTimer\r\n            })\r\n          }\r\n        } catch (error) {\r\n          console.error('하트 업데이트 실패:', error)\r\n        }\r\n      },\r\n\r\n      // 하트 소모\r\n      consumeHeart: async (amount = 1) => {\r\n        const hearts = get().hearts\r\n        if (!hearts) return false\r\n\r\n        try {\r\n          const { data, error } = await supabase\r\n            .rpc('consume_heart', { \r\n              p_user_id: hearts.user_id, \r\n              p_amount: amount \r\n            })\r\n\r\n          if (error) {\r\n            console.error('하트 소모 실패:', error)\r\n            return false\r\n          }\r\n\r\n          if (data && data.length > 0) {\r\n            const result = data[0]\r\n            \r\n            if (result.success) {\r\n              set({\r\n                hearts: {\r\n                  ...hearts,\r\n                  current_hearts: result.current_hearts\r\n                }\r\n              })\r\n              return true\r\n            }\r\n          }\r\n          \r\n          return false\r\n        } catch (error) {\r\n          console.error('하트 소모 실패:', error)\r\n          return false\r\n        }\r\n      },\r\n\r\n      // 광고로 하트 획득\r\n      addHeartByAd: async () => {\r\n        const hearts = get().hearts\r\n        if (!hearts) return false\r\n\r\n        try {\r\n          const { data, error } = await supabase\r\n            .rpc('add_heart_by_ad', { p_user_id: hearts.user_id })\r\n\r\n          if (error) {\r\n            console.error('광고 하트 획득 실패:', error)\r\n            return false\r\n          }\r\n\r\n          if (data && data.length > 0) {\r\n            const result = data[0]\r\n            \r\n            if (result.success) {\r\n              set({\r\n                hearts: {\r\n                  ...hearts,\r\n                  current_hearts: result.current_hearts,\r\n                  ad_views_today: result.ad_views_today\r\n                }\r\n              })\r\n              return true\r\n            }\r\n          }\r\n          \r\n          return false\r\n        } catch (error) {\r\n          console.error('광고 하트 획득 실패:', error)\r\n          return false\r\n        }\r\n      },\r\n\r\n      // 포인트로 하트 구매\r\n      buyHeartWithPoints: async () => {\r\n        const hearts = get().hearts\r\n        if (!hearts) return false\r\n\r\n        try {\r\n          const { data, error } = await supabase\r\n            .rpc('buy_heart_with_points', { \r\n              p_user_id: hearts.user_id, \r\n              p_cost: 500 \r\n            })\r\n\r\n          if (error) {\r\n            console.error('포인트 하트 구매 실패:', error)\r\n            return false\r\n          }\r\n\r\n          if (data && data.length > 0) {\r\n            const result = data[0]\r\n            \r\n            if (result.success) {\r\n              set({\r\n                hearts: {\r\n                  ...hearts,\r\n                  current_hearts: result.current_hearts\r\n                },\r\n                totalScore: result.current_points\r\n              })\r\n              return true\r\n            }\r\n          }\r\n          \r\n          return false\r\n        } catch (error) {\r\n          console.error('포인트 하트 구매 실패:', error)\r\n          return false\r\n        }\r\n      },\r\n\r\n      // 점수 업데이트\r\n      updateScore: (score: number) => {\r\n        set({ totalScore: score })\r\n      },\r\n\r\n      // 경험치 업데이트\r\n      updateExp: (exp: number) => {\r\n        set({ currentExp: exp })\r\n      },\r\n\r\n      // 레벨 업데이트\r\n      updateLevel: (level: number) => {\r\n        set({ level })\r\n      },\r\n\r\n      // 에러 설정\r\n      setError: (error: string | null) => {\r\n        set({ error })\r\n      },\r\n\r\n      // 하트 타이머 계산 헬퍼 함수\r\n      calculateHeartTimer: (lastRefillAt: string, currentHearts: number) => {\r\n        // 하트가 5개면 충전 완료\r\n        if (currentHearts >= 5) {\r\n          return '충전 완료'\r\n        }\r\n        \r\n        const now = new Date()\r\n        const lastRefill = new Date(lastRefillAt)\r\n        const diffMs = now.getTime() - lastRefill.getTime()\r\n        const diffMinutes = Math.floor(diffMs / (1000 * 60))\r\n        \r\n        // 5분마다 하트 충전\r\n        const nextRefillInMinutes = 5 - (diffMinutes % 5)\r\n        \r\n        // 다음 충전까지 남은 시간을 분:초 형식으로 표시\r\n        const minutes = Math.floor(nextRefillInMinutes)\r\n        const seconds = 60 - (Math.floor(diffMs / 1000) % 60)\r\n        \r\n        return `${minutes}분${seconds.toString().padStart(2, '0')}초`\r\n      }\r\n    }),\r\n    {\r\n      name: 'game-storage',\r\n      partialize: (state) => ({\r\n        level: state.level,\r\n        totalScore: state.totalScore,\r\n        currentExp: state.currentExp,\r\n        currentPhase: state.currentPhase,\r\n        currentStage: state.currentStage,\r\n        hearts: state.hearts\r\n      })\r\n    }\r\n  )\r\n)"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 419, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/dhwan/Desktop/work/health-hero/src/app/game/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useAuthStore } from \"@/store/authStore\";\r\nimport { useGameStore } from \"@/store/gameStore\";\r\n\r\nexport default function GamePage() {\r\n  const router = useRouter();\r\n  const { user, isAuthenticated, initialize } = useAuthStore();\r\n  const { \r\n    level, \r\n    totalScore, \r\n    currentPhase,\r\n    hearts, \r\n    heartTimer, \r\n    isLoading, \r\n    error,\r\n    loadUserData,\r\n    updateHearts \r\n  } = useGameStore();\r\n  \r\n  // 화면 높이 감지\r\n  const [isSmallScreen, setIsSmallScreen] = useState(false);\r\n\r\n  // 화면 크기 감지\r\n  useEffect(() => {\r\n    const checkScreenSize = () => {\r\n      setIsSmallScreen(window.innerHeight < 700); // 700px 미만을 작은 화면으로 판단\r\n    };\r\n    \r\n    checkScreenSize();\r\n    window.addEventListener('resize', checkScreenSize);\r\n    \r\n    return () => window.removeEventListener('resize', checkScreenSize);\r\n  }, []);\r\n\r\n  // 컴포넌트 마운트 시 인증 상태 초기화 및 데이터 로드\r\n  useEffect(() => {\r\n    const initData = async () => {\r\n      await initialize();\r\n    };\r\n    initData();\r\n  }, [initialize]);\r\n\r\n  // 사용자 데이터 로드\r\n  useEffect(() => {\r\n    if (isAuthenticated && user?.id) {\r\n      loadUserData(user.id);\r\n    }\r\n  }, [isAuthenticated, user?.id, loadUserData]);\r\n\r\n  // 하트 타이머 업데이트 (30초마다)\r\n  useEffect(() => {\r\n    if (!isAuthenticated || !user?.id || !hearts) return;\r\n\r\n    const interval = setInterval(() => {\r\n      // 하트가 5개 미만일 때만 서버 업데이트 호출\r\n      if (hearts.current_hearts < 5) {\r\n        updateHearts();\r\n      }\r\n    }, 30000); // 30초마다 (하트 충전 주기 고려)\r\n\r\n    return () => clearInterval(interval);\r\n  }, [isAuthenticated, user?.id, hearts, updateHearts]);\r\n\r\n  // 스크롤을 하단에 고정하는 useEffect\r\n  // 스크롤 위치 조정 (작은 화면에서만)\r\n  useEffect(() => {\r\n    if (!isSmallScreen) return; // 작은 화면이 아니면 스크롤 로직 실행하지 않음\r\n    \r\n    const scrollToBottom = () => {\r\n      const scrollContainer = document.querySelector('.overflow-y-auto') as HTMLElement;\r\n      if (scrollContainer) {\r\n        // 스크롤을 맨 아래로 이동 (페이즈 1이 보이도록)\r\n        scrollContainer.scrollTop = scrollContainer.scrollHeight;\r\n      }\r\n    };\r\n\r\n    // 즉시 실행\r\n    scrollToBottom();\r\n\r\n    // 이미지 로딩 완료 후에도 실행 (여러 번 시도)\r\n    const timeoutIds = [\r\n      setTimeout(scrollToBottom, 100),\r\n      setTimeout(scrollToBottom, 500),\r\n      setTimeout(scrollToBottom, 1000)\r\n    ];\r\n    \r\n    // 윈도우 리사이즈 시에도 실행\r\n    window.addEventListener('resize', scrollToBottom);\r\n    \r\n    // 페이지 로드 완료 후에도 실행\r\n    window.addEventListener('load', scrollToBottom);\r\n\r\n    return () => {\r\n      timeoutIds.forEach(id => clearTimeout(id));\r\n      window.removeEventListener('resize', scrollToBottom);\r\n      window.removeEventListener('load', scrollToBottom);\r\n    };\r\n  }, [isLoading, isSmallScreen]); // isSmallScreen 의존성 추가\r\n\r\n  // 레벨에 따른 캐릭터 이미지 경로 반환\r\n  const getCharacterImage = (level: number): string => {\r\n    if (level >= 20) return '/images/characters/level-20.png';\r\n    if (level >= 15) return '/images/characters/level-15.png';\r\n    if (level >= 10) return '/images/characters/level-10.png';\r\n    if (level >= 5) return '/images/characters/level-5.png';\r\n    return '/images/characters/level-1.png';\r\n  };\r\n\r\n  // 페이즈 상태에 따른 이미지 경로 반환\r\n  const getPhaseImage = (phaseNumber: number): string => {\r\n    // 페이즈 1은 항상 활성화\r\n    if (phaseNumber === 1) {\r\n      return '/images/items/icon-phase1.png';\r\n    }\r\n    \r\n    // 사용자의 현재 페이즈를 기반으로 활성화 상태 결정\r\n    // 현재 페이즈보다 낮은 페이즈는 모두 클리어된 것으로 간주\r\n    if (phaseNumber <= currentPhase) {\r\n      return `/images/items/icon-phase${phaseNumber}.png`;\r\n    }\r\n    \r\n    // 현재 페이즈보다 높은 페이즈는 잠금 상태\r\n    return '/images/items/icon-locked-phase.png';\r\n  };\r\n\r\n  // 페이즈 클릭 핸들러\r\n  const handlePhaseClick = (phaseNumber: number) => {\r\n    // 현재 페이즈보다 높은 페이즈는 클릭 불가\r\n    if (phaseNumber > currentPhase) {\r\n      return;\r\n    }\r\n    \r\n    // 스테이지 맵 페이지로 이동\r\n    router.push(`/game/phase${phaseNumber}`);\r\n  };\r\n\r\n  // 로딩 중이거나 에러가 있으면 표시\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"relative min-h-screen overflow-hidden\">\r\n        {/* 배경 이미지 */}\r\n        <div className=\"absolute inset-0 z-0\">\r\n          <Image\r\n            src=\"/images/backgrounds/background-main.png\"\r\n            alt=\"헬스 히어로 메인 배경\"\r\n            fill\r\n            className=\"object-cover\"\r\n            priority\r\n          />\r\n        </div>\r\n        \r\n        {/* 로딩 텍스트 */}\r\n        <div className=\"relative z-10 flex items-center justify-center min-h-screen\">\r\n          <div className=\"text-white text-xl font-medium\">로딩 중...</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"relative min-h-screen overflow-hidden\">\r\n        {/* 배경 이미지 */}\r\n        <div className=\"absolute inset-0 z-0\">\r\n          <Image\r\n            src=\"/images/backgrounds/background-main.png\"\r\n            alt=\"헬스 히어로 메인 배경\"\r\n            fill\r\n            className=\"object-cover\"\r\n            priority\r\n          />\r\n        </div>\r\n        \r\n        {/* 에러 텍스트 */}\r\n        <div className=\"relative z-10 flex items-center justify-center min-h-screen\">\r\n          <div className=\"text-red-500 text-xl font-medium\">에러: {error}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className=\"relative min-h-screen overflow-hidden flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"text-white text-xl mb-4\">로그인이 필요합니다</div>\r\n          <Link href=\"/\">\r\n            <button className=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg\">\r\n              홈으로 돌아가기\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"relative min-h-screen overflow-hidden\">\r\n      {/* 배경 이미지 */}\r\n      <div className=\"absolute inset-0 z-0\">\r\n        <Image\r\n          src=\"/images/backgrounds/background-main.png\"\r\n          alt=\"헬스 히어로 메인 배경\"\r\n          fill\r\n          className=\"object-cover\"\r\n          priority\r\n        />\r\n      </div>\r\n\r\n      {/* 고정 헤더 */}\r\n      <div className=\"fixed top-6 left-0 right-0 z-30 bg-transparent\">\r\n        <div className=\"flex items-center justify-between px-6 py-3 h-[60px]\">\r\n          {/* 캐릭터 & 레벨 */}\r\n          <div className=\"flex items-center gap-5\">\r\n            <div className=\"relative\">\r\n              {/* 캐릭터 원형 배경 */}\r\n              <Image\r\n                src=\"/images/ui/block02.png\"\r\n                alt=\"캐릭터 배경\"\r\n                width={40}\r\n                height={40}\r\n                className=\"relative z-10\"\r\n              />\r\n              {/* 캐릭터 이미지 */}\r\n              <Image\r\n                src={getCharacterImage(level)}\r\n                alt=\"캐릭터\"\r\n                width={30}\r\n                height={30}\r\n                className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20\"\r\n              />\r\n              {/* 레벨 블록 */}\r\n              <Image\r\n                src=\"/images/ui/block01.png\"\r\n                alt=\"레벨 배경\"\r\n                width={70}\r\n                height={24}\r\n                className=\"absolute top-1/2 left-6 transform -translate-y-1/2 z-0\"\r\n                style={{ width: '70px', height: '24px', minWidth: '70px', minHeight: '24px' }}\r\n              />\r\n              {/* 레벨 텍스트 */}\r\n              <span className=\"absolute top-1/2 left-6 transform -translate-y-1/2 z-10 text-[10px] font-bold text-[#8B4513] whitespace-nowrap flex items-center justify-center w-[70px] ml-1\">\r\n                Lv.{level}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* 하트 */}\r\n          <div className=\"flex items-center gap-5\">\r\n            <div className=\"relative\">\r\n              {/* 하트 아이콘 */}\r\n              <Image\r\n                src=\"/images/items/icon-heart.png\"\r\n                alt=\"하트\"\r\n                width={44}\r\n                height={44}\r\n                className=\"relative z-10\"\r\n              />\r\n              {/* 하트 내부 숫자 */}\r\n              <span className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 text-white text-base font-normal\">\r\n                {hearts?.current_hearts || 5}\r\n              </span>\r\n              {/* 광고 버튼 */}\r\n              <Image\r\n                src=\"/images/items/button-ad.png\"\r\n                alt=\"광고 버튼\"\r\n                width={16}\r\n                height={16}\r\n                className=\"absolute bottom-0 right-0 z-20\"\r\n              />\r\n              {/* 타이머 블록 */}\r\n              <Image\r\n                src=\"/images/ui/block01.png\"\r\n                alt=\"타이머 배경\"\r\n                width={70}\r\n                height={24}\r\n                className=\"absolute top-1/2 left-6 transform -translate-y-1/2 z-0\"\r\n                style={{ width: '70px', height: '24px', minWidth: '70px', minHeight: '24px' }}\r\n              />\r\n              {/* 타이머 텍스트 */}\r\n              <span className=\"absolute top-1/2 left-6 transform -translate-y-1/2 z-10 text-[10px] font-bold text-[#8B4513] whitespace-nowrap flex items-center justify-center w-[70px] ml-1\">\r\n                {heartTimer}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* 점수 */}\r\n          <div className=\"flex items-center gap-5\">\r\n            <div className=\"relative\">\r\n              {/* 별 아이콘 */}\r\n              <Image\r\n                src=\"/images/items/Icon-star.png\"\r\n                alt=\"별\"\r\n                width={40}\r\n                height={40}\r\n                className=\"relative z-10\"\r\n              />\r\n              {/* 점수 블록 */}\r\n              <Image\r\n                src=\"/images/ui/block01.png\"\r\n                alt=\"점수 배경\"\r\n                width={70}\r\n                height={24}\r\n                className=\"absolute top-1/2 left-6 transform -translate-y-1/2 z-0\"\r\n                style={{ width: '70px', height: '24px', minWidth: '70px', minHeight: '24px' }}\r\n              />\r\n              {/* 점수 텍스트 */}\r\n              <span className=\"absolute top-1/2 left-6 transform -translate-y-1/2 z-10 text-[10px] font-bold text-[#8B4513] whitespace-nowrap flex items-center justify-center w-[70px] ml-1\">\r\n                {totalScore.toLocaleString()}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* 설정 버튼 */}\r\n          <div className=\"flex items-center\">\r\n            <Image\r\n              src=\"/images/items/button-setting.png\"\r\n              alt=\"설정\"\r\n              width={24}\r\n              height={24}\r\n              className=\"cursor-pointer hover:opacity-80 transition-opacity\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 메인 콘텐츠 */}\r\n      <div className={`relative z-10 w-full h-screen pt-[60px] pb-4 ${\r\n        isSmallScreen ? 'overflow-y-auto' : 'overflow-hidden'\r\n      }`}>\r\n\r\n        {/* 페이즈 블록들 */}\r\n        <div \r\n          className=\"relative w-full\" \r\n          style={{ \r\n            height: isSmallScreen ? 'calc(100vh + 40px)' : '90vh'\r\n          }}\r\n        >\r\n          \r\n          {/* 페이즈 1 - 우측 하단 */}\r\n          <div \r\n            className=\"absolute bottom-[20px] right-[24px] w-[150px] h-[160px] rounded-[20px] bg-white/50 backdrop-blur-[10px] shadow-[0_2px_2px_0_rgba(0,0,0,0.4)] z-10 cursor-pointer hover:opacity-80 transition-opacity\"\r\n            onClick={() => handlePhaseClick(1)}\r\n          >\r\n            <div className=\"w-full h-full flex flex-col items-center justify-center\">\r\n              <Image\r\n                src={getPhaseImage(1)}\r\n                alt=\"페이즈 1\"\r\n                width={120}\r\n                height={120}\r\n                className=\"mb-2\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* 페이즈 2 - 좌측 중앙 */}\r\n          <div \r\n            className={`absolute bottom-[180px] left-[24px] w-[150px] h-[160px] rounded-[20px] bg-white/50 backdrop-blur-[10px] shadow-[0_2px_2px_0_rgba(0,0,0,0.4)] z-10 ${\r\n              currentPhase >= 2 ? 'cursor-pointer hover:opacity-80 transition-opacity' : 'cursor-not-allowed'\r\n            }`}\r\n            onClick={() => handlePhaseClick(2)}\r\n          >\r\n            <div className=\"w-full h-full flex flex-col items-center justify-center\">\r\n              <Image\r\n                src={getPhaseImage(2)}\r\n                alt=\"페이즈 2\"\r\n                width={120}\r\n                height={120}\r\n                className=\"mb-2\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* 페이즈 3 - 우측 상단 */}\r\n          <div \r\n            className={`absolute bottom-[340px] right-[24px] w-[150px] h-[160px] rounded-[20px] bg-white/50 backdrop-blur-[10px] shadow-[0_2px_2px_0_rgba(0,0,0,0.4)] z-10 ${\r\n              currentPhase >= 3 ? 'cursor-pointer hover:opacity-80 transition-opacity' : 'cursor-not-allowed'\r\n            }`}\r\n            onClick={() => handlePhaseClick(3)}\r\n          >\r\n            <div className=\"w-full h-full flex flex-col items-center justify-center\">\r\n              <Image\r\n                src={getPhaseImage(3)}\r\n                alt=\"페이즈 3\"\r\n                width={120}\r\n                height={120}\r\n                className=\"mb-2\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* 페이즈 4 - 좌측 상단 */}\r\n          <div \r\n            className={`absolute bottom-[500px] left-[24px] w-[150px] h-[160px] rounded-[20px] bg-white/50 backdrop-blur-[10px] shadow-[0_2px_2px_0_rgba(0,0,0,0.4)] z-10 ${\r\n              currentPhase >= 4 ? 'cursor-pointer hover:opacity-80 transition-opacity' : 'cursor-not-allowed'\r\n            }`}\r\n            onClick={() => handlePhaseClick(4)}\r\n          >\r\n            <div className=\"w-full h-full flex flex-col items-center justify-center\">\r\n              <Image\r\n                src={getPhaseImage(4)}\r\n                alt=\"페이즈 4\"\r\n                width={120}\r\n                height={120}\r\n                className=\"mb-2\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* 페이즈 간 연결선 */}\r\n          {/* 페이즈 1 → 페이즈 2 */}\r\n          <div className=\"absolute bottom-[120px] left-1/2 transform -translate-x-1/2 z-0\">\r\n            <Image\r\n              src=\"/images/ui/vector1.png\"\r\n              alt=\"페이즈 연결선\"\r\n              width={170}\r\n              height={60}\r\n              className=\"opacity-80\"\r\n            />\r\n          </div>\r\n\r\n          {/* 페이즈 2 → 페이즈 3 */}\r\n          <div className=\"absolute bottom-[280px] left-1/2 transform -translate-x-1/2 z-0\">\r\n            <Image\r\n              src=\"/images/ui/vector2.png\"\r\n              alt=\"페이즈 연결선\"\r\n              width={170}\r\n              height={60}\r\n              className=\"opacity-80\"\r\n            />\r\n          </div>\r\n\r\n          {/* 페이즈 3 → 페이즈 4 */}\r\n          <div className=\"absolute bottom-[440px] left-1/2 transform -translate-x-1/2 z-0\">\r\n            <Image\r\n              src=\"/images/ui/vector1.png\"\r\n              alt=\"페이즈 연결선\"\r\n              width={170}\r\n              height={60}\r\n              className=\"opacity-80\"\r\n            />\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}